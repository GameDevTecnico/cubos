<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta name="generator" content="Doxygen 1.9.1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CUBOS.: FileSystem Class Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
</head>
<body>
    <div id="top">
        <!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
            <table cellspacing="0" cellpadding="0">
                <tbody>
                    <tr style="height: 56px;">
                        <td id="projectalign" style="padding-left: 0.5em;">
                            <div id="projectname">CUBOS.
                                &#160;<span id="projectnumber">0.1.0</span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- end header part --><!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classcubos_1_1core_1_1data_1_1FileSystem.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classcubos_1_1core_1_1data_1_1FileSystem-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FileSystem Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="file__system_8hpp_source.html">file_system.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af8a83c3e003a35bcc308f2b9f4a7b3a4"><td class="memItemLeft" align="right" valign="top"><a id="af8a83c3e003a35bcc308f2b9f4a7b3a4"></a>
static <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">File::Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html#af8a83c3e003a35bcc308f2b9f4a7b3a4">root</a> ()</td></tr>
<tr class="memdesc:af8a83c3e003a35bcc308f2b9f4a7b3a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a handle to the root file. <br /></td></tr>
<tr class="separator:af8a83c3e003a35bcc308f2b9f4a7b3a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7d7493f14704df36b00242d15cbf07"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html#aac7d7493f14704df36b00242d15cbf07">mount</a> (std::string_view path, const std::shared_ptr&lt; <a class="el" href="classcubos_1_1core_1_1data_1_1Archive.html">Archive</a> &gt; &amp;archive)</td></tr>
<tr class="separator:aac7d7493f14704df36b00242d15cbf07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab21b1dd5440a253dba0162c40588760c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html#ab21b1dd5440a253dba0162c40588760c">unmount</a> (std::string_view path)</td></tr>
<tr class="separator:ab21b1dd5440a253dba0162c40588760c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7279dfd43000746d763c53e72623e5e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">File::Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html#ab7279dfd43000746d763c53e72623e5e">find</a> (std::string_view path)</td></tr>
<tr class="separator:ab7279dfd43000746d763c53e72623e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e860389d6238e316234d6953ede4c2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">File::Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html#a26e860389d6238e316234d6953ede4c2">create</a> (std::string_view path, bool directory=false)</td></tr>
<tr class="separator:a26e860389d6238e316234d6953ede4c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2c5d4d05a30324600358e22726891e4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html#aa2c5d4d05a30324600358e22726891e4">destroy</a> (std::string_view path)</td></tr>
<tr class="separator:aa2c5d4d05a30324600358e22726891e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7158894929ee9241b715fc243cc07eec"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; <a class="el" href="classcubos_1_1core_1_1memory_1_1Stream.html">memory::Stream</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html#a7158894929ee9241b715fc243cc07eec">open</a> (std::string_view path, <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a3a70f8b621474c9885f80fe709e2dca2">File::OpenMode</a> mode)</td></tr>
<tr class="separator:a7158894929ee9241b715fc243cc07eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents the virtual file system of the engine. This class is never instantiated, and is only used to provide static methods.</p>
<p>Example 1: <a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html#aac7d7493f14704df36b00242d15cbf07">FileSystem::mount</a>("/assets", ...); ... auto modelsDir = <a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html#ab7279dfd43000746d763c53e72623e5e">FileSystem::find</a>("/assets/models"); if (modelsDir != nullptr &amp;&amp; modelsDir-&gt;isDirectory()) for (auto model = modelsDir-&gt;getChild(); model != nullptr; model = model-&gt;getSibling()) loadModel(*model-&gt;open(File::OpenMode::Read)); ... <a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html#ab21b1dd5440a253dba0162c40588760c">FileSystem::unmount</a>("/assets");</p>
<p>Example 2: <a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html#aac7d7493f14704df36b00242d15cbf07">FileSystem::mount</a>("/settings.json", ...); ... auto settingsFile = <a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html#af8a83c3e003a35bcc308f2b9f4a7b3a4" title="Gets a handle to the root file.">FileSystem::root()</a>-&gt;find("settings.json"); if (settingsFile) loadSettings(*model-&gt;open(File::OpenMode::Read)); ... </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a26e860389d6238e316234d6953ede4c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26e860389d6238e316234d6953ede4c2">&#9670;&nbsp;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">File::Handle</a> create </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>directory</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a new file in the virtual file system. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The absolute path to the file. </td></tr>
    <tr><td class="paramname">directory</td><td>True if the file should be a directory, false otherwise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A handle to the file, or nullptr if the file could not be created or the path is relative. </dd></dl>

</div>
</div>
<a id="aa2c5d4d05a30324600358e22726891e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2c5d4d05a30324600358e22726891e4">&#9670;&nbsp;</a></span>destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool destroy </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destroys a file in the virtual file system. If the file is a directory, all children of the directory are destroyed as well. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The absolute path of the file to destroy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the file was marked for destruction, false otherwise. </dd></dl>

</div>
</div>
<a id="ab7279dfd43000746d763c53e72623e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7279dfd43000746d763c53e72623e5e">&#9670;&nbsp;</a></span>find()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">File::Handle</a> find </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Finds a file in the virtual file system, given its absolute path. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The absolute path to the file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A handle to the file, or nullptr if the file does not exist or the path is relative. </dd></dl>

</div>
</div>
<a id="aac7d7493f14704df36b00242d15cbf07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7d7493f14704df36b00242d15cbf07">&#9670;&nbsp;</a></span>mount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mount </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classcubos_1_1core_1_1data_1_1Archive.html">Archive</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>archive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Mounts an archive to a path in the virtual file system of the engine. The directory which contains the path must exist, but the path itself must not (unless it is the root). Archives can be mounted to the root path ("/") or to any other path.</p>
<p>If the path isn't absolute, or if the parent directory of the path doesn't exist, or if there's already an archive mounted at the path, abort() is called. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path to mount the archive to. </td></tr>
    <tr><td class="paramname">archive</td><td>The archive to mount. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7158894929ee9241b715fc243cc07eec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7158894929ee9241b715fc243cc07eec">&#9670;&nbsp;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::unique_ptr&lt;<a class="el" href="classcubos_1_1core_1_1memory_1_1Stream.html">memory::Stream</a>&gt; open </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a3a70f8b621474c9885f80fe709e2dca2">File::OpenMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Opens a file in the virtual file system. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The absolute path to the file. </td></tr>
    <tr><td class="paramname">mode</td><td>The mode to open the file in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A handle to the file stream, or nullptr if an error occurred. </dd></dl>

</div>
</div>
<a id="ab21b1dd5440a253dba0162c40588760c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab21b1dd5440a253dba0162c40588760c">&#9670;&nbsp;</a></span>unmount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unmount </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Unmounts an archive from a path in the virtual file system of the engine. If no archive is mounted at the given path, nothing is done. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path to unmount the archive from. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>core/include/cubos/core/data/<a class="el" href="file__system_8hpp_source.html">file_system.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath">
  <!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>cubos</b></li><li class="navelem"><a class="el" href="namespacecubos_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespacecubos_1_1core_1_1data.html">data</a></li><li class="navelem"><a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html">FileSystem</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer"
          src="doxygen.svg" width="104" height="31" alt="doxygen" /></a> 1.9.1 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function () {
    $(document).ready(function () {
      toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
      toggleButton.title = "Toggle Light/Dark Mode"
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>