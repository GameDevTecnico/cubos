<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta name="generator" content="Doxygen 1.9.1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CUBOS.: File Class Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
</head>
<body>
    <div id="top">
        <!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
            <table cellspacing="0" cellpadding="0">
                <tbody>
                    <tr style="height: 56px;">
                        <td id="projectalign" style="padding-left: 0.5em;">
                            <div id="projectname">CUBOS.
                                &#160;<span id="projectnumber">0.1.0</span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- end header part --><!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classcubos_1_1core_1_1data_1_1File.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcubos_1_1core_1_1data_1_1File-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">File Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents a file in the virtual file system of the engine. Should always be held through a <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4" title="Smart shared pointer, used to prevent files from being deleted while it is still in use.">File::Handle</a>, which is just a smart shared pointer. All operations on files through this class are done with relative paths, and are equivalent to the same operations on <a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html" title="Singleton class which represents the virtual file system of the engine. All operations on files throu...">FileSystem</a>, with absolute paths.  
 <a href="classcubos_1_1core_1_1data_1_1File.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="core_2include_2cubos_2core_2data_2fs_2file_8hpp_source.html">file.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for File:</div>
<div class="dyncontent">
<div class="center"><img src="classcubos_1_1core_1_1data_1_1File__inherit__graph.png" border="0" usemap="#aFile_inherit__map" alt="Inheritance graph"/></div>
<map name="aFile_inherit__map" id="aFile_inherit__map">
<area shape="rect" title="Represents a file in the virtual file system of the engine. Should always be held through a File::Han..." alt="" coords="60,95,105,121"/>
<area shape="rect" title=" " alt="" coords="5,5,160,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for File:</div>
<div class="dyncontent">
<div class="center"><img src="classcubos_1_1core_1_1data_1_1File__coll__graph.png" border="0" usemap="#aFile_coll__map" alt="Collaboration graph"/></div>
<map name="aFile_coll__map" id="aFile_coll__map">
<area shape="rect" title="Represents a file in the virtual file system of the engine. Should always be held through a File::Han..." alt="" coords="60,95,105,121"/>
<area shape="rect" title=" " alt="" coords="5,5,160,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a3a70f8b621474c9885f80fe709e2dca2"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a3a70f8b621474c9885f80fe709e2dca2">OpenMode</a> { <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a3a70f8b621474c9885f80fe709e2dca2a7a1a5f3e79fdc91edf2f5ead9d66abb4">Read</a>
, <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a3a70f8b621474c9885f80fe709e2dca2a1129c0e4d43f2d121652a7302712cff6">Write</a>
, <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a3a70f8b621474c9885f80fe709e2dca2a70a2a84088d405a2e3f1e3accaa16723">ReadWrite</a>
 }</td></tr>
<tr class="memdesc:a3a70f8b621474c9885f80fe709e2dca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible modes to open files in.  <a href="classcubos_1_1core_1_1data_1_1File.html#a3a70f8b621474c9885f80fe709e2dca2">More...</a><br /></td></tr>
<tr class="separator:a3a70f8b621474c9885f80fe709e2dca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a853ec24a9344437904cebfd7831effb4"><td class="memItemLeft" align="right" valign="top"><a id="a853ec24a9344437904cebfd7831effb4"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">Handle</a> = std::shared_ptr&lt; <a class="el" href="classcubos_1_1core_1_1data_1_1File.html">File</a> &gt;</td></tr>
<tr class="memdesc:a853ec24a9344437904cebfd7831effb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smart shared pointer, used to prevent files from being deleted while it is still in use. <br /></td></tr>
<tr class="separator:a853ec24a9344437904cebfd7831effb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab2058f4f578cb1bf12dfd9c995d3535e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#ab2058f4f578cb1bf12dfd9c995d3535e">mount</a> (std::string_view <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a831923281b77eabf422bcc44dd7af6cb">path</a>, std::unique_ptr&lt; <a class="el" href="classcubos_1_1core_1_1data_1_1Archive.html">Archive</a> &gt; <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#ab06d041967a23beaa3167b94ee1abb5d">archive</a>)</td></tr>
<tr class="memdesc:ab2058f4f578cb1bf12dfd9c995d3535e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mounts an archive to a path relative to this file. Creates any parent directories that may be necessary, but the mount point itself must not already exist.  <a href="classcubos_1_1core_1_1data_1_1File.html#ab2058f4f578cb1bf12dfd9c995d3535e">More...</a><br /></td></tr>
<tr class="separator:ab2058f4f578cb1bf12dfd9c995d3535e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea88be3a06be9c77adcf3fd25863f1e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#acea88be3a06be9c77adcf3fd25863f1e">unmount</a> (std::string_view <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a831923281b77eabf422bcc44dd7af6cb">path</a>)</td></tr>
<tr class="memdesc:acea88be3a06be9c77adcf3fd25863f1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmounts an archive from a path relative to this file. Removes all of the archive's files from the virtual file system.  <a href="classcubos_1_1core_1_1data_1_1File.html#acea88be3a06be9c77adcf3fd25863f1e">More...</a><br /></td></tr>
<tr class="separator:acea88be3a06be9c77adcf3fd25863f1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a84a1dfbe9a41f5792ce118d05f8af6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a2a84a1dfbe9a41f5792ce118d05f8af6">find</a> (std::string_view <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a831923281b77eabf422bcc44dd7af6cb">path</a>)</td></tr>
<tr class="memdesc:a2a84a1dfbe9a41f5792ce118d05f8af6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a handle to a file relative to this file. Fails if the file does not exist or if the path is absolute or invalid.  <a href="classcubos_1_1core_1_1data_1_1File.html#a2a84a1dfbe9a41f5792ce118d05f8af6">More...</a><br /></td></tr>
<tr class="separator:a2a84a1dfbe9a41f5792ce118d05f8af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18355e79099e5d2bbff777b70c177d8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a18355e79099e5d2bbff777b70c177d8e">create</a> (std::string_view <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a831923281b77eabf422bcc44dd7af6cb">path</a>, bool <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a2120bd931b8e452b4042089fd77a2a40">directory</a>=false)</td></tr>
<tr class="memdesc:a18355e79099e5d2bbff777b70c177d8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new file on a path relative to this file. The destination location must be writeable - that is, it must be under a mounted writeable archive. If a file at the given path already exists, it is returned instead. Any parent directories that may be necessary are created.  <a href="classcubos_1_1core_1_1data_1_1File.html#a18355e79099e5d2bbff777b70c177d8e">More...</a><br /></td></tr>
<tr class="separator:a18355e79099e5d2bbff777b70c177d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bffc6f6c447af261125c1a2a45e85af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a7bffc6f6c447af261125c1a2a45e85af">destroy</a> ()</td></tr>
<tr class="memdesc:a7bffc6f6c447af261125c1a2a45e85af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks this file for destruction. The file will only be deleted when no more references to it exist. The file is immediatelly removed from its parent directory and this method is called recursively on all its children.  <a href="classcubos_1_1core_1_1data_1_1File.html#a7bffc6f6c447af261125c1a2a45e85af">More...</a><br /></td></tr>
<tr class="separator:a7bffc6f6c447af261125c1a2a45e85af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c0ed17c745118fe25a5b2c1e8ffe80"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classcubos_1_1core_1_1memory_1_1Stream.html">memory::Stream</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a91c0ed17c745118fe25a5b2c1e8ffe80">open</a> (<a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a3a70f8b621474c9885f80fe709e2dca2">OpenMode</a> mode)</td></tr>
<tr class="memdesc:a91c0ed17c745118fe25a5b2c1e8ffe80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens this file for reading or writing. If the file is being written to, blocks until the other threads are done with the file.  <a href="classcubos_1_1core_1_1data_1_1File.html#a91c0ed17c745118fe25a5b2c1e8ffe80">More...</a><br /></td></tr>
<tr class="separator:a91c0ed17c745118fe25a5b2c1e8ffe80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b311ad7b66f230479b19b47c094cb41"><td class="memItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a3b311ad7b66f230479b19b47c094cb41">name</a> () const</td></tr>
<tr class="separator:a3b311ad7b66f230479b19b47c094cb41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831923281b77eabf422bcc44dd7af6cb"><td class="memItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a831923281b77eabf422bcc44dd7af6cb">path</a> () const</td></tr>
<tr class="separator:a831923281b77eabf422bcc44dd7af6cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2120bd931b8e452b4042089fd77a2a40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a2120bd931b8e452b4042089fd77a2a40">directory</a> () const</td></tr>
<tr class="separator:a2120bd931b8e452b4042089fd77a2a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab06d041967a23beaa3167b94ee1abb5d"><td class="memItemLeft" align="right" valign="top">const std::shared_ptr&lt; <a class="el" href="classcubos_1_1core_1_1data_1_1Archive.html">Archive</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#ab06d041967a23beaa3167b94ee1abb5d">archive</a> () const</td></tr>
<tr class="separator:ab06d041967a23beaa3167b94ee1abb5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d8b2cf59b4a4538739e247bd4e7a111"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a3d8b2cf59b4a4538739e247bd4e7a111">id</a> () const</td></tr>
<tr class="separator:a3d8b2cf59b4a4538739e247bd4e7a111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ffa65a755489f4cd52675ad7855240"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#ae3ffa65a755489f4cd52675ad7855240">parent</a> () const</td></tr>
<tr class="separator:ae3ffa65a755489f4cd52675ad7855240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4958f33a11dd88027a38bbc7bcedfa05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a4958f33a11dd88027a38bbc7bcedfa05">sibling</a> () const</td></tr>
<tr class="separator:a4958f33a11dd88027a38bbc7bcedfa05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35adfcfc4d5c97b76f8ca0f050378105"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a35adfcfc4d5c97b76f8ca0f050378105">child</a> () const</td></tr>
<tr class="separator:a35adfcfc4d5c97b76f8ca0f050378105"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a file in the virtual file system of the engine. Should always be held through a <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4" title="Smart shared pointer, used to prevent files from being deleted while it is still in use.">File::Handle</a>, which is just a smart shared pointer. All operations on files through this class are done with relative paths, and are equivalent to the same operations on <a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html" title="Singleton class which represents the virtual file system of the engine. All operations on files throu...">FileSystem</a>, with absolute paths. </p>
<p>Files may be directories, in which case they can have children files, but no data. Regular files are only allowed inside archives, since they must have data associated with them, while the directories are just a way to organize the files.</p>
<p>Archives are mounted to files, such that the file and all its children are in the archive. Archives can be either single-file archives, in which case their mount point is the file itself, or they can be directories, in which case their mount point is a directory.</p>
<p>The <a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html" title="Singleton class which represents the virtual file system of the engine. All operations on files throu...">FileSystem</a> object should be used to access files from absolute paths - all operations on files are done with relative paths, which must not have leading or trailing slashes. For example, the following paths are valid relative paths: "foo/bar", "foo", "". The following paths are invalid relative paths: "/foo/bar", "foo/bar/", "/".</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classcubos_1_1core_1_1data_1_1FileSystem.html" title="Singleton class which represents the virtual file system of the engine. All operations on files throu...">FileSystem</a> <a class="el" href="classcubos_1_1core_1_1data_1_1Archive.html" title="Acts as a bridge between the virtual file system and some place where data is actually stored,...">Archive</a> </dd></dl>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a3a70f8b621474c9885f80fe709e2dca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a70f8b621474c9885f80fe709e2dca2">&#9670;&nbsp;</a></span>OpenMode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a3a70f8b621474c9885f80fe709e2dca2">OpenMode</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Possible modes to open files in. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a3a70f8b621474c9885f80fe709e2dca2a7a1a5f3e79fdc91edf2f5ead9d66abb4"></a>Read&#160;</td><td class="fielddoc"><p>Open the file for reading. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3a70f8b621474c9885f80fe709e2dca2a1129c0e4d43f2d121652a7302712cff6"></a>Write&#160;</td><td class="fielddoc"><p>Open the file for writing, overwriting any previous changes. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3a70f8b621474c9885f80fe709e2dca2a70a2a84088d405a2e3f1e3accaa16723"></a>ReadWrite&#160;</td><td class="fielddoc"><p>Open the file for reading or writing data. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab06d041967a23beaa3167b94ee1abb5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab06d041967a23beaa3167b94ee1abb5d">&#9670;&nbsp;</a></span>archive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::shared_ptr&lt;<a class="el" href="classcubos_1_1core_1_1data_1_1Archive.html">Archive</a>&gt;&amp; archive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The archive this file is in, or nullptr if the file is not in an archive. </dd></dl>

</div>
</div>
<a id="a35adfcfc4d5c97b76f8ca0f050378105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35adfcfc4d5c97b76f8ca0f050378105">&#9670;&nbsp;</a></span>child()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">Handle</a> child </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The first child, or nullptr if this file is not a directory or if it is empty. </dd></dl>

</div>
</div>
<a id="a18355e79099e5d2bbff777b70c177d8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18355e79099e5d2bbff777b70c177d8e">&#9670;&nbsp;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">Handle</a> create </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>directory</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new file on a path relative to this file. The destination location must be writeable - that is, it must be under a mounted writeable archive. If a file at the given path already exists, it is returned instead. Any parent directories that may be necessary are created. </p>
<p>This method fails on the following conditions:</p><ul>
<li>path is absolute or invalid.</li>
<li>a parent directory in the path does not exist and cannot be created.</li>
<li>a parent directory in the path already exists as a regular file.</li>
<li>a file of a different type already exists at the destination.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The relative path to the file. </td></tr>
    <tr><td class="paramname">directory</td><td>Whether the new file should be a directory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A handle to the file, or nullptr if the creation failed. </dd></dl>

</div>
</div>
<a id="a7bffc6f6c447af261125c1a2a45e85af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bffc6f6c447af261125c1a2a45e85af">&#9670;&nbsp;</a></span>destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool destroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks this file for destruction. The file will only be deleted when no more references to it exist. The file is immediatelly removed from its parent directory and this method is called recursively on all its children. </p>
<p>This method fails on the following conditions:</p><ul>
<li>this file is the mount point of an archive.</li>
<li>this file does not belong to an archive.</li>
<li>this file belongs to a read-only archive.</li>
</ul>
<p>The reason this method does not immediately delete the file is to prevent files from being deleted while they are open. Since files are removed from the tree immediately, it is no longer possible to reach them, but there may be other threads operating on them. After every thread is done with the file, it is deleted.</p>
<dl class="section return"><dt>Returns</dt><dd>Whether the file was successfully marked for destruction. </dd></dl>

</div>
</div>
<a id="a2120bd931b8e452b4042089fd77a2a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2120bd931b8e452b4042089fd77a2a40">&#9670;&nbsp;</a></span>directory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool directory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Whether this file is a directory. </dd></dl>

</div>
</div>
<a id="a2a84a1dfbe9a41f5792ce118d05f8af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a84a1dfbe9a41f5792ce118d05f8af6">&#9670;&nbsp;</a></span>find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">Handle</a> find </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a handle to a file relative to this file. Fails if the file does not exist or if the path is absolute or invalid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path relative to this file to get the file from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A handle to the file, or nullptr if the search failed. </dd></dl>

</div>
</div>
<a id="a3d8b2cf59b4a4538739e247bd4e7a111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d8b2cf59b4a4538739e247bd4e7a111">&#9670;&nbsp;</a></span>id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The identifier of this file on its archive, or 0 if it is not in an archive. </dd></dl>

</div>
</div>
<a id="ab2058f4f578cb1bf12dfd9c995d3535e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2058f4f578cb1bf12dfd9c995d3535e">&#9670;&nbsp;</a></span>mount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mount </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classcubos_1_1core_1_1data_1_1Archive.html">Archive</a> &gt;&#160;</td>
          <td class="paramname"><em>archive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mounts an archive to a path relative to this file. Creates any parent directories that may be necessary, but the mount point itself must not already exist. </p>
<p>This method fails on the following conditions:</p><ul>
<li>path is absolute or invalid.</li>
<li>a parent file in the path exists and is not a directory.</li>
<li>a parent directory in the path belongs to an archive.</li>
<li>a file already exists at the mount point.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path relative to this file to mount the archive on. </td></tr>
    <tr><td class="paramname">archive</td><td><a class="el" href="classcubos_1_1core_1_1data_1_1Archive.html" title="Acts as a bridge between the virtual file system and some place where data is actually stored,...">Archive</a> to mount. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the archive was successfully mounted. </dd></dl>

</div>
</div>
<a id="a3b311ad7b66f230479b19b47c094cb41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b311ad7b66f230479b19b47c094cb41">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string_view name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The name of this file. </dd></dl>

</div>
</div>
<a id="a91c0ed17c745118fe25a5b2c1e8ffe80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c0ed17c745118fe25a5b2c1e8ffe80">&#9670;&nbsp;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classcubos_1_1core_1_1memory_1_1Stream.html">memory::Stream</a>&gt; open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a3a70f8b621474c9885f80fe709e2dca2">OpenMode</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens this file for reading or writing. If the file is being written to, blocks until the other threads are done with the file. </p>
<p>This method fails on the following conditions:</p><ul>
<li>this file is a directory.</li>
<li>this file belongs to a read-only archive and the mode is not <a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a3a70f8b621474c9885f80fe709e2dca2a7a1a5f3e79fdc91edf2f5ead9d66abb4" title="Open the file for reading.">OpenMode::Read</a>.</li>
</ul>
<p>If the archive where the file is is read-only, or if the file is a directory, nullptr is returned. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>The mode to open the file in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A handle to a file stream, or nullptr if the file could not be opened. </dd></dl>

</div>
</div>
<a id="ae3ffa65a755489f4cd52675ad7855240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3ffa65a755489f4cd52675ad7855240">&#9670;&nbsp;</a></span>parent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">Handle</a> parent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The file's parent directory, or nullptr if there isn't one. </dd></dl>

</div>
</div>
<a id="a831923281b77eabf422bcc44dd7af6cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831923281b77eabf422bcc44dd7af6cb">&#9670;&nbsp;</a></span>path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string_view path </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The absolute path of this file. </dd></dl>

</div>
</div>
<a id="a4958f33a11dd88027a38bbc7bcedfa05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4958f33a11dd88027a38bbc7bcedfa05">&#9670;&nbsp;</a></span>sibling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html#a853ec24a9344437904cebfd7831effb4">Handle</a> sibling </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The next sibling, or nullptr if this file is the last child of its parent. </dd></dl>

</div>
</div>
<a id="acea88be3a06be9c77adcf3fd25863f1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acea88be3a06be9c77adcf3fd25863f1e">&#9670;&nbsp;</a></span>unmount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool unmount </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmounts an archive from a path relative to this file. Removes all of the archive's files from the virtual file system. </p>
<p>This method fails on the following conditions:</p><ul>
<li>path is absolute or invalid.</li>
<li>any of the files in the path do not exist.</li>
<li>the target path is not the mount point for an archive.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path relative to this file to unmount the archive from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the archive was successfully unmounted. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>core/include/cubos/core/data/fs/<a class="el" href="core_2include_2cubos_2core_2data_2fs_2file_8hpp_source.html">file.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath">
  <!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>cubos</b></li><li class="navelem"><a class="el" href="namespacecubos_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespacecubos_1_1core_1_1data.html">data</a></li><li class="navelem"><a class="el" href="classcubos_1_1core_1_1data_1_1File.html">File</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer"
          src="doxygen.svg" width="104" height="31" alt="doxygen" /></a> 1.9.1 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function () {
    $(document).ready(function () {
      toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
      toggleButton.title = "Toggle Light/Dark Mode"
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>