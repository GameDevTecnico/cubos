<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>cubos::engine::PostProcessingBloom class | CUBOS. Docs</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://gamedevtecnico.github.io/cubos/">CUBOS.</a> <span class="m-breadcrumb">|</span> <a href="index.html" class="m-thin">Docs</a>
      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespacecubos.html">cubos</a>::<wbr/></span><span class="m-breadcrumb"><a href="namespacecubos_1_1engine.html">engine</a>::<wbr/></span>PostProcessingBloom <span class="m-thin">class</span>
          <div class="m-doc-include m-code m-inverted m-text-right"><span class="cp">#include</span> <a class="cpf" href="bloom_8hpp.html">&lt;engine/renderer/pps/bloom.hpp&gt;</a></div>
        </h1>
        <p>A post processing pass that adds a &quot;bloom&quot; effect to any bright objects in the scene.</p>
        <nav class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#base-classes">Base classes</a></li>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
              </ul>
            </li>
          </ul>
        </nav>
<p>Implementation based on the following <a href="https://catlikecoding.com/unity/tutorials/advanced-rendering/bloom">tutorial</a>.</p>
        <section id="base-classes">
          <h2><a href="#base-classes">Base classes</a></h2>
          <dl class="m-doc">
            <dt>
              class <a href="classcubos_1_1engine_1_1PostProcessingPass.html" class="m-doc">PostProcessingPass</a>
            </dt>
            <dd>A generic post processing pass.</dd>
          </dl>
        </section>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#ac2bc93e068d3d308caca3b05b1a64d81" class="m-doc">PostProcessingBloom</a>(</span><span class="m-doc-wrap"><a href="classcubos_1_1core_1_1gl_1_1RenderDevice.html" class="m-doc">core::<wbr />gl::<wbr />RenderDevice</a>&amp; renderDevice,
              glm::uvec2 size)</span>
            </dt>
            <dd>Constructs with default arguments.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#a90432131c7e1d1e9d48d4cfebb4fe2e4" class="m-doc">PostProcessingBloom</a>(</span><span class="m-doc-wrap"><a href="classcubos_1_1core_1_1gl_1_1RenderDevice.html" class="m-doc">core::<wbr />gl::<wbr />RenderDevice</a>&amp; renderDevice,
              glm::uvec2 size,
              unsigned int iterations,
              float threshold,
              float softThreshold,
              float intensity)</span>
            </dt>
            <dd>Constructs with custom settings.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a45fb53bf31cec3f95ed9e54478a94ee3" class="m-doc">getThreshold</a>(</span><span class="m-doc-wrap">) const -&gt; float</span>
            </dt>
            <dd>Gets the threshold for the bloom effect.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a8ee79382d28944c3b7fbdf0bd4d687d8" class="m-doc">getSoftThreshold</a>(</span><span class="m-doc-wrap">) const -&gt; float</span>
            </dt>
            <dd>Gets the soft threshold ratio.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a1af3dc870e63fc797d624a74e3fcdc24" class="m-doc">getIntensity</a>(</span><span class="m-doc-wrap">) const -&gt; float</span>
            </dt>
            <dd>Gets the intensity of the bloom effect.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a51ad352949dedd8f05a9ce44043ebdce" class="m-doc">setThreshold</a>(</span><span class="m-doc-wrap">float threshold)</span>
            </dt>
            <dd>Sets the threshold for the bloom effect.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#aa67225275c078199d54c5a161d9a79fe" class="m-doc">setSoftThreshold</a>(</span><span class="m-doc-wrap">float softThreshold)</span>
            </dt>
            <dd>Sets the soft threshold ratio.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ae52cbf193ceaadc6b915303135fea2eb" class="m-doc">setIntensity</a>(</span><span class="m-doc-wrap">float intensity)</span>
            </dt>
            <dd>Sets the intensity of the bloom effect.</dd>
            <dt id="ae990a804c7d9f573dab34057b39eae63">
              <span class="m-doc-wrap-bumper">void <a href="#ae990a804c7d9f573dab34057b39eae63" class="m-doc-self">generateTextures</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Generates the textures used by the pass.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a6d545f64a5dffbd96be799f0299b48d7" class="m-doc">resize</a>(</span><span class="m-doc-wrap">glm::uvec2 size) <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>Called when the window framebuffer size changes.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#af2c7ef257c48e779770bb943eedc45e3" class="m-doc">execute</a>(</span><span class="m-doc-wrap">std::map&lt;<a href="group__renderer-plugin.html#gad9a27e05315b6fa51e4b34deadc5e2e4" class="m-doc">PostProcessingInput</a>, <a href="group__core-gl.html#ga0ae8900d7cc51e23143dd6c77cff24f7" class="m-doc">core::<wbr />gl::<wbr />Texture2D</a>&gt;&amp; inputs,
              <a href="group__core-gl.html#ga0ae8900d7cc51e23143dd6c77cff24f7" class="m-doc">core::<wbr />gl::<wbr />Texture2D</a> prev,
              <a href="group__core-gl.html#gac7119bdf28374f4d1b0cf4ac956a73ce" class="m-doc">core::<wbr />gl::<wbr />Framebuffer</a> out) const <span class="m-label m-flat m-warning">override</span></span>
            </dt>
            <dd>Called each frame.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="ac2bc93e068d3d308caca3b05b1a64d81"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> cubos::<wbr />engine::<wbr />PostProcessingBloom::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ac2bc93e068d3d308caca3b05b1a64d81" class="m-doc-self">PostProcessingBloom</a>(</span><span class="m-doc-wrap"><a href="classcubos_1_1core_1_1gl_1_1RenderDevice.html" class="m-doc">core::<wbr />gl::<wbr />RenderDevice</a>&amp; renderDevice,
              glm::uvec2 size)</span></span>
            </h3>
            <p>Constructs with default arguments.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">renderDevice</td>
                  <td>Render device to use.</td>
                </tr>
                <tr>
                  <td>size</td>
                  <td>Size of the window.</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a90432131c7e1d1e9d48d4cfebb4fe2e4"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> cubos::<wbr />engine::<wbr />PostProcessingBloom::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a90432131c7e1d1e9d48d4cfebb4fe2e4" class="m-doc-self">PostProcessingBloom</a>(</span><span class="m-doc-wrap"><a href="classcubos_1_1core_1_1gl_1_1RenderDevice.html" class="m-doc">core::<wbr />gl::<wbr />RenderDevice</a>&amp; renderDevice,
              glm::uvec2 size,
              unsigned int iterations,
              float threshold,
              float softThreshold,
              float intensity)</span></span>
            </h3>
            <p>Constructs with custom settings.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">renderDevice</td>
                  <td>Render device to use.</td>
                </tr>
                <tr>
                  <td>size</td>
                  <td>Size of the window.</td>
                </tr>
                <tr>
                  <td>iterations</td>
                  <td>Number of iterations for downsample/upsample step</td>
                </tr>
                <tr>
                  <td>threshold</td>
                  <td>Pixel brightness threshold to be considered for bloom effect</td>
                </tr>
                <tr>
                  <td>softThreshold</td>
                  <td>Ratio for including pixels that don&#x27;t pass the threshold test</td>
                </tr>
                <tr>
                  <td>intensity</td>
                  <td>Intensity of the bloom effect.</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a45fb53bf31cec3f95ed9e54478a94ee3"><div>
            <h3>
              <span class="m-doc-wrap-bumper">float cubos::<wbr />engine::<wbr />PostProcessingBloom::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a45fb53bf31cec3f95ed9e54478a94ee3" class="m-doc-self">getThreshold</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Gets the threshold for the bloom effect.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>Threshold for the bloom effect.</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a8ee79382d28944c3b7fbdf0bd4d687d8"><div>
            <h3>
              <span class="m-doc-wrap-bumper">float cubos::<wbr />engine::<wbr />PostProcessingBloom::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a8ee79382d28944c3b7fbdf0bd4d687d8" class="m-doc-self">getSoftThreshold</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Gets the soft threshold ratio.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>Soft threshold ratio.</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a1af3dc870e63fc797d624a74e3fcdc24"><div>
            <h3>
              <span class="m-doc-wrap-bumper">float cubos::<wbr />engine::<wbr />PostProcessingBloom::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a1af3dc870e63fc797d624a74e3fcdc24" class="m-doc-self">getIntensity</a>(</span><span class="m-doc-wrap">) const</span></span>
            </h3>
            <p>Gets the intensity of the bloom effect.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td>Intensity of the bloom effect.</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a51ad352949dedd8f05a9ce44043ebdce"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void cubos::<wbr />engine::<wbr />PostProcessingBloom::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a51ad352949dedd8f05a9ce44043ebdce" class="m-doc-self">setThreshold</a>(</span><span class="m-doc-wrap">float threshold)</span></span>
            </h3>
            <p>Sets the threshold for the bloom effect.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">threshold</td>
                  <td>New threshold.</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="aa67225275c078199d54c5a161d9a79fe"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void cubos::<wbr />engine::<wbr />PostProcessingBloom::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#aa67225275c078199d54c5a161d9a79fe" class="m-doc-self">setSoftThreshold</a>(</span><span class="m-doc-wrap">float softThreshold)</span></span>
            </h3>
            <p>Sets the soft threshold ratio.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">softThreshold</td>
                  <td>Ratio for including pixels that don&#x27;t pass the threshold test.</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="ae52cbf193ceaadc6b915303135fea2eb"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void cubos::<wbr />engine::<wbr />PostProcessingBloom::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ae52cbf193ceaadc6b915303135fea2eb" class="m-doc-self">setIntensity</a>(</span><span class="m-doc-wrap">float intensity)</span></span>
            </h3>
            <p>Sets the intensity of the bloom effect.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">intensity</td>
                  <td>Intensity of the bloom effect.</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a6d545f64a5dffbd96be799f0299b48d7"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void cubos::<wbr />engine::<wbr />PostProcessingBloom::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a6d545f64a5dffbd96be799f0299b48d7" class="m-doc-self">resize</a>(</span><span class="m-doc-wrap">glm::uvec2 size) <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>Called when the window framebuffer size changes.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">size</td>
                  <td>New size of the window.</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="af2c7ef257c48e779770bb943eedc45e3"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void cubos::<wbr />engine::<wbr />PostProcessingBloom::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#af2c7ef257c48e779770bb943eedc45e3" class="m-doc-self">execute</a>(</span><span class="m-doc-wrap">std::map&lt;<a href="group__renderer-plugin.html#gad9a27e05315b6fa51e4b34deadc5e2e4" class="m-doc">PostProcessingInput</a>, <a href="group__core-gl.html#ga0ae8900d7cc51e23143dd6c77cff24f7" class="m-doc">core::<wbr />gl::<wbr />Texture2D</a>&gt;&amp; inputs,
              <a href="group__core-gl.html#ga0ae8900d7cc51e23143dd6c77cff24f7" class="m-doc">core::<wbr />gl::<wbr />Texture2D</a> prev,
              <a href="group__core-gl.html#gac7119bdf28374f4d1b0cf4ac956a73ce" class="m-doc">core::<wbr />gl::<wbr />Framebuffer</a> out) const <span class="m-label m-warning">override</span></span></span>
            </h3>
            <p>Called each frame.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">inputs</td>
                  <td>Available extra input textures.</td>
                </tr>
                <tr>
                  <td>prev</td>
                  <td>Resulting texture of the previous pass.</td>
                </tr>
                <tr>
                  <td>out</td>
                  <td>Framebuffer where the pass will render to.</td>
                </tr>
              </tbody>
            </table>
<p>The inputs argument is mutable to allow passes to their own inputs for future passes. This argument is used, for example, to pass the extra outputs of the deferred renderer to the post processing passes which might need them.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script>
<script src="searchdata-v2.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>CUBOS. Docs. Created with <a href="https://doxygen.org/">Doxygen</a> 1.9.1 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
